<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from ft300.urdf.xacro               | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!--
This file shows how to import, instanciate and connect the sensor model to a given link
-->
<robot name="test_ft_sensor_gazebo">
  <!--Base frame for reference-->
  <link name="world"/>
  <!-- mount the fts to the robot -->
  <joint name="ft300_fix" type="fixed">
    <origin rpy="1.5707 0 0" xyz="0 0 0.3"/>
    <parent link="world"/>
    <child link="ft300_mounting_plate"/>
  </joint>
  <!-- Link representing the FT300 force-torque sensor -->
  <link name="ft300_sensor">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -0.017"/>
      <mass value="0.300"/>
      <inertia ixx="0.000262" ixy="0" ixz="1e-06" iyx="0" iyy="0.000265" iyz="1e-06" izx="-1e-06" izy="1e-06" izz="0.000219"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/xiaobaige/ur_project_ros2/install/robotiq_ft_sensor_description/share/robotiq_ft_sensor_description/meshes/visual/robotiq_ft300.STL"/>
      </geometry>
      <material name="Robotiq-Black">
        <color rgba="0.2 0.2 0.2 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/xiaobaige/ur_project_ros2/install/robotiq_ft_sensor_description/share/robotiq_ft_sensor_description/meshes/collision/robotiq_ft300.STL"/>
      </geometry>
    </collision>
  </link>
  <!-- Link representing the FT300 mounting plate -->
  <link name="ft300_mounting_plate">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/xiaobaige/ur_project_ros2/install/robotiq_ft_sensor_description/share/robotiq_ft_sensor_description/meshes/visual/mountings/robotiq_ft300-G-062-COUPLING_G-50-4M6-1D6_20181119.STL"/>
      </geometry>
      <material name="Robotiq-Grey">
        <color rgba="0.4 0.4 0.4 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/xiaobaige/ur_project_ros2/install/robotiq_ft_sensor_description/share/robotiq_ft_sensor_description/meshes/collision/mountings/robotiq_ft300-G-062-COUPLING_G-50-4M6-1D6_20181119.STL"/>
      </geometry>
    </collision>
  </link>
  <!-- Connect force sensor with mounting/coupling plate -->
  <joint name="ft300_mounting_plate" type="fixed">
    <origin rpy="0 3.141592653589793 0" xyz="0 0 0.0415"/>
    <parent link="ft300_mounting_plate"/>
    <child link="ft300_sensor"/>
  </joint>
  <!-- FORCE REFERENCE FRAME _______________________________________________________________________________
            As specified in the documentation:
            - The Z axis passes through the center of the depression with positive direction in the tool direction.
            - The X axis traces a symmetric line centered on the connector; the positive direction
                points the opposite way away from the connector.
            - The Y axis uses the right hand thumb rule according to X-Z. -->
  <joint name="measurment_joint" type="fixed">
    <origin rpy="0 3.141592653589793 -1.5707963267948966" xyz="0 0 0"/>
    <parent link="ft300_sensor"/>
    <child link="robotiq_ft_frame_id"/>
  </joint>
  <link name="robotiq_ft_frame_id"/>
  <gazebo reference="ft300_sensor">
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="ft300_mounting_plate">
    <material>Gazebo/Gray</material>
  </gazebo>
  <!-- FORCE REFERENCE FRAME _______________________________________________________________________________
      As specified in the documentation:
      - The Z axis passes through the center of the depression with positive direction in the tool direction.
      - The X axis traces a symmetric line centered on the connector; the positive direction
          points the opposite way away from the connector.
      - The Y axis uses the right hand thumb rule according to X-Z. -->
  <joint name="ft300_sensor_joint" type="fixed">
    <origin rpy="0 3.141592653589793 -1.5707963267948966" xyz="0 0 0"/>
    <parent link="ft300_sensor"/>
    <child link="tip_link"/>
  </joint>
  <link name="tip_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.03"/>
      <geometry>
        <cylinder length="0.06" radius="0.015"/>
      </geometry>
      <material name="tip_link_color">
        <color rgba="0.2 0.2 0.2 1.0"/>
      </material>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.03"/>
      <geometry>
        <cylinder length="0.06" radius="0.015"/>
      </geometry>
      <matertial name="tip_link_color">
        <color rgba="0.2 0.2 0.6 1.0"/>
      </matertial>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.03"/>
      <mass value="1.0"/>
      <inertia ixx="0.00035625" ixy="0.0" ixz="0.0" iyy="0.00035625" iyz="0.0" izz="0.0001125"/>
    </inertial>
  </link>
  <gazebo reference="ft300_sensor_joint">
    <disableFixedJointLumping>true</disableFixedJointLumping>
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <!-- gazebo plugin for ft sensor 
        This is a controller that simulates a 6 dof force and torque sensor on link or joint.
        For joints, the wrench is reported in the joint child link frame and the
        measure direction is child-to-parent link. (Force and Torque Feed Back Ground Truth)
        If <body_name> is specified, the plugin acts as sensor on a link, otherwise if
        <joint_name> is specified, it acts as a sensor on a joint -->
  <gazebo>
    <plugin filename="libgazebo_ros_ft_sensor.so" name="gazebo_ros_ft_sensor">
      <ros>
        <!-- Add a namespace -->
        <namespace>/robotiq_ft300</namespace>
        <!-- Remap the default topic -->
        <!-- <remapping>wrench:=wrench_demo</remapping> -->
      </ros>
      <!-- Joint name -->
      <joint_name>ft300_sensor_joint</joint_name>
      <!-- Update rate in Hz, defaults to 0.0, which means as fast as possible -->
      <update_rate>50</update_rate>
      <!-- Standard deviation of the noise to be added to the reported wrench messages. -->
      <gaussian_noise>0.01</gaussian_noise>
    </plugin>
  </gazebo>
</robot>
